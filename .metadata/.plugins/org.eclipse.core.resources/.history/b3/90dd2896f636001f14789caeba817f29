#ifndef __BUZZER_H
#define __BUZZER_H

#include "stm32f1xx_hal.h"  // 根据你使用的STM32型号修改
#include <stdint.h>

typedef enum {
    BUZZER_ACTIVE,
    BUZZER_PASSIVE
} BuzzerType;

typedef enum {
    BUZZER_PWM,
    BUZZER_BLOCKING
} BuzzerMode;

typedef struct {
    GPIO_TypeDef* GPIOx;
    uint16_t GPIO_Pin;
    BuzzerType type;
    BuzzerMode mode;
    TIM_HandleTypeDef* htim;
    uint32_t tim_channel;
} BuzzerConfigTypeDef;

void Buzzer_Init(BuzzerConfigTypeDef* buzzer);
void Buzzer_On(BuzzerConfigTypeDef* buzzer, uint32_t frequency);
void Buzzer_Off(BuzzerConfigTypeDef* buzzer);

#endif // __BUZZER_H
